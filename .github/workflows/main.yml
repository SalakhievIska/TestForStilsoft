---

name: Lint check

on:
  push:
  pull_request:
    branches: ["dev"]

jobs:
 flake8:
    name: "–ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º Django –ø—Ä–æ–µ–∫—Ç"
    runs-on: "ubuntu-20.04"

    steps:
      - name: –û–±–Ω–æ–≤–ª–µ–Ω–∏—è üõéÔ∏è
        uses: "actions/checkout@v2"

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.8 üêç
        uses: "actions/setup-python@v2"
        with:
          python-version: "3.8"

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π üîß
        run: |
          python -VV
          python -m site
          python -m pip install flake8

      - name: –ó–∞–ø—É—Å–∫–∞–µ–º flake8 ‚ñ∂Ô∏è
        run: "flake8"

 eslint:
    name: "–ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º Vuejs –ø—Ä–æ–µ–∫—Ç"
    runs-on: "ubuntu-20.04"

    steps:
      - name: –û–±–Ω–æ–≤–ª–µ–Ω–∏—è üõéÔ∏è
        uses: "actions/checkout@v2"

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node JS
        uses: "actions/setup-node@v2"
        with:
          node-version: '14.x'
          registry-url: 'https://registry.npmjs.org'

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π üîß
        run: |
          npm install eslint@latest --save-dev
          npm install eslint-plugin-vue@latest --save-dev
          npm install eslint-plugin-import@latest --save-dev
          npm install eslint-config-airbnb-base@latest --save-dev

      - name: –ó–∞–ø—É—Å–∫–∞–µ–º eslint ‚ñ∂Ô∏è
        run: cd ./fronted/ && npm run lint
